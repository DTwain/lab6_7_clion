        -:    0:Source:D:/INFO 2/SEM 2/oop_lab_6_9/service/cos_carti.cpp
        -:    0:Graph:D:\INFO 2\SEM 2\oop_lab_6_9\cmake-build-debug-coverage\CMakeFiles\lab6_7_clion.dir\service\cos_carti.cpp.gcno
        -:    0:Data:D:\INFO 2\SEM 2\oop_lab_6_9\cmake-build-debug-coverage\CMakeFiles\lab6_7_clion.dir\service\cos_carti.cpp.gcda
        -:    0:Runs:1
        -:    1://
        -:    2:// Created by obrej on 4/23/2024.
        -:    3://
        -:    4:
        -:    5:#include "../Headers/cos_carti.h"
        -:    6:#include <algorithm>
        -:    7:#include <fstream>
        -:    8:#include <random>
        -:    9:/*
        -:   10: * Returneaza numarul de carti din cos
        -:   11: * Return type: int >= 0
        -:   12: */
function _ZN9cos_carti20get_nr_carti_din_cosEv called 1 returned 100% blocks executed 100%
        1:   13:int cos_carti::get_nr_carti_din_cos(){
        1:   14:    return cos.get_all().size();
        1:   14-block  0
call    0 returned 1
call    1 returned 1
        -:   15:}
        -:   16:/*
        -:   17: * Golirea cosului de carti
        -:   18: */
function _ZN9cos_carti11goleste_cosEv called 1 returned 100% blocks executed 100%
        1:   19:void cos_carti::goleste_cos() {
        1:   20:    cos.goleste_repo();
        1:   20-block  0
call    0 returned 1
        1:   21:}
        -:   22:
        -:   23:/*
        -:   24: * Adauga o carte care are titlul egal cu cel dat ca parametru
        -:   25: * Sau arunca expectie daca nu exista o carte cu acel titlu
        -:   26: */
function _ZN9cos_carti16add_carte_in_cosENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 9 returned 89% blocks executed 84%
        9:   27:void cos_carti::add_carte_in_cos(std::string titlu) {
        9:   28:    const vector<carte> &all{repo_carti.get_all()};
        9:   28-block  0
call    0 returned 9
branch  1 taken 9 (fallthrough)
branch  2 taken 0 (throw)
function _ZZN9cos_carti16add_carte_in_cosENSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEENKUlRK5carteE_clES8_ called 19 returned 100% blocks executed 100%
       28:   29:    auto itr = std::find_if(all.begin(), all.end(), [titlu](const carte &book) { return book.get_title() == titlu; });
        9:   29-block  0
call    0 returned 9
branch  1 taken 9 (fallthrough)
branch  2 taken 0 (throw)
        9:   29-block  1
call    3 returned 9
call    4 returned 9
call    5 returned 9
branch  6 taken 9 (fallthrough)
branch  7 taken 0 (throw)
        9:   29-block  2
call    8 returned 9
    $$$$$:   29-block  3
call    9 never executed
    $$$$$:   29-block  4
       19:   29-block  5
call   10 returned 19
branch 11 taken 19 (fallthrough)
branch 12 taken 0 (throw)
       19:   29-block  6
call   13 returned 19
call   14 returned 19
       19:   29-block  7
        -:   30:
        9:   31:    if (itr != all.end()) {
call    0 returned 9
call    1 returned 9
branch  2 taken 8 (fallthrough)
branch  3 taken 1
        8:   32:        cos.add_pt_cos(*itr);
        8:   32-block  0
call    0 returned 8
call    1 returned 8
branch  2 taken 8 (fallthrough)
branch  3 taken 0 (throw)
        -:   33:    } else
        1:   34:        throw std::exception{};
        1:   34-block  0
call    0 returned 1
call    1 returned 1
call    2 returned 1
        8:   35:}
        8:   35-block  0
        -:   36:/*
        -:   37: * Adauga nr_carti in cos, cartile se pot repeta
        -:   38: */
function _ZN9cos_carti13genereaza_cosEi called 2 returned 100% blocks executed 79%
        2:   39:void cos_carti::genereaza_cos(int nr_carti) {
        2:   40:    std::mt19937 mt{std::random_device{}()};
        2:   40-block  0
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   40-block  1
call    3 returned 2
branch  4 taken 2 (fallthrough)
branch  5 taken 0 (throw)
        2:   40-block  2
call    6 returned 2
branch  7 taken 2 (fallthrough)
branch  8 taken 0 (throw)
        2:   40-block  3
call    9 returned 2
    $$$$$:   40-block  4
call   10 never executed
    $$$$$:   40-block  5
        2:   41:    std::uniform_int_distribution<> dist(0, repo_carti.get_all().size() - 1);
call    0 returned 2
branch  1 taken 2 (fallthrough)
branch  2 taken 0 (throw)
        2:   41-block  0
call    3 returned 2
call    4 returned 2
branch  5 taken 2 (fallthrough)
branch  6 taken 0 (throw)
        -:   42:
        8:   43:    for (int i = 0; i < nr_carti; ++i) {
        2:   43-block  0
        6:   43-block  1
        8:   43-block  2
branch  0 taken 6
branch  1 taken 2 (fallthrough)
        6:   44:        int random_nr = dist(mt);
        6:   44-block  0
call    0 returned 6
branch  1 taken 6 (fallthrough)
branch  2 taken 0 (throw)
        6:   45:        const carte &book = repo_carti.find_book_by_id(random_nr);
        6:   45-block  0
call    0 returned 6
branch  1 taken 6 (fallthrough)
branch  2 taken 0 (throw)
        6:   46:        cos.add_pt_cos(book);
        6:   46-block  0
call    0 returned 6
branch  1 taken 6 (fallthrough)
branch  2 taken 0 (throw)
        -:   47:    }
        2:   48:}
        2:   48-block  0
        -:   49:/*
        -:   50: * Se creaza un fisier html cu numele "nume_fisier" care contine un tabel cu datele din cos
        -:   51: */
function _ZN9cos_carti10export_cosERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEi called 1 returned 100% blocks executed 62%
        1:   52:void cos_carti::export_cos(const string& nume_fisier, int nr_cos){
        1:   52-block  0
        -:   53:    const string HTML_BEGIN = "<!DOCTYPE html>\n<html  lang=\"ro\">\n<style>\n    table, th, td { \n        border:1px "
        -:   54:                              "\n        solid black; \n        text-align: center; \n    }"
        -:   55:                              "\n    table.center { \n        margin-left: auto; \n        margin-right: auto; \n    } "
        2:   56:                              "\n</style>\n<head>\n    <title>Cos</title>\n</head>\n<body>";
        1:   56-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   56-block  1
    $$$$$:   56-block  2
        2:   57:    const string HTML_END = "\n</body>\n</html>";
        1:   57-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   57-block  1
    $$$$$:   57-block  2
        2:   58:    const string HTML_TABLE_HEADER_BEGIN = "\n            <th>";
        1:   58-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   58-block  1
    $$$$$:   58-block  2
        2:   59:    const string HTML_TABLE_HEADER_END = "</th>";
        1:   59-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   59-block  1
    $$$$$:   59-block  2
        2:   60:    const string HTML_TABLE_ROW_BEGGIN = "\n        <tr>";
        1:   60-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   60-block  1
    $$$$$:   60-block  2
        2:   61:    const string HTML_TABLE_ROW_END = "\n        </tr>";
        1:   61-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   61-block  1
    $$$$$:   61-block  2
        2:   62:    const string HTML_TABLE_CELL_BEGIN = "\n            <td>";
        1:   62-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   62-block  1
    $$$$$:   62-block  2
        1:   63:    const string HTML_TABLE_CELL_END = "</td>";
        1:   63-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
    $$$$$:   63-block  1
        1:   64:    const string DOC_HEADER = "\n    <h2  style=\"text-align: center\">Cosul cu numarul " + std::to_string(nr_cos) + "</h2>";
        1:   64-block  0
call    0 returned 1
call    1 returned 1
branch  2 taken 1 (fallthrough)
branch  3 taken 0 (throw)
        1:   64-block  1
call    4 returned 1
branch  5 taken 1 (fallthrough)
branch  6 taken 0 (throw)
        1:   64-block  2
call    7 returned 1
call    8 returned 1
    $$$$$:   64-block  3
call    9 never executed
    $$$$$:   64-block  4
call   10 never executed
    $$$$$:   64-block  5
    $$$$$:   64-block  6
        -:   65:
        1:   66:    std::ofstream out_in_file(nume_fisier);
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        -:   67:
        -:   68:    // insert in file
        1:   69:    out_in_file << HTML_BEGIN;
        1:   69-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   70:    out_in_file << DOC_HEADER;
        1:   70-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        -:   71:
        -:   72:    // create table
        1:   73:    out_in_file << "\n    <table class=\"center\" style=\"width:75%\">";
        1:   73-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        -:   74:
        -:   75:    // create table header
        1:   76:    string TABLE_HEADER;
        1:   76-block  0
call    0 returned 1
        1:   77:    TABLE_HEADER += HTML_TABLE_ROW_BEGGIN;
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   78:    TABLE_HEADER += HTML_TABLE_HEADER_BEGIN;
        1:   78-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   79:    TABLE_HEADER += "Numar carte";
        1:   79-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   80:    TABLE_HEADER += HTML_TABLE_HEADER_END;
        1:   80-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   81:    TABLE_HEADER += HTML_TABLE_HEADER_BEGIN;
        1:   81-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   82:    TABLE_HEADER += "Nume carte";
        1:   82-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   83:    TABLE_HEADER += HTML_TABLE_HEADER_END;
        1:   83-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   84:    TABLE_HEADER += HTML_TABLE_HEADER_BEGIN;
        1:   84-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   85:    TABLE_HEADER += "Autor";
        1:   85-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   86:    TABLE_HEADER += HTML_TABLE_HEADER_END;
        1:   86-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   87:    TABLE_HEADER += HTML_TABLE_HEADER_BEGIN;
        1:   87-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   88:    TABLE_HEADER += "Gen";
        1:   88-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   89:    TABLE_HEADER += HTML_TABLE_HEADER_END;
        1:   89-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   90:    TABLE_HEADER += HTML_TABLE_HEADER_BEGIN;
        1:   90-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   91:    TABLE_HEADER += "Anul publicatiei";
        1:   91-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   92:    TABLE_HEADER += HTML_TABLE_HEADER_END;
        1:   92-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   93:    TABLE_HEADER += HTML_TABLE_ROW_END;
        1:   93-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        -:   94:
        1:   95:    out_in_file << TABLE_HEADER;
        1:   95-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   96:    int cnt = 0;
        6:   97:    for(const carte& book: cos.get_all()){
        1:   97-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:   97-block  1
call    3 returned 1
call    4 returned 1
        5:   97-block  2
call    5 returned 5
call    6 returned 5
        6:   97-block  3
call    7 returned 6
branch  8 taken 5
branch  9 taken 1 (fallthrough)
        5:   98:        cnt += 1;
        5:   99:        string text;
call    0 returned 5
        -:  100:
        5:  101:        text += HTML_TABLE_ROW_BEGGIN;
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  102:        text += HTML_TABLE_CELL_BEGIN;
        5:  102-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  103:        text += std::to_string(cnt);
        5:  103-block  0
call    0 returned 5
call    1 returned 5
branch  2 taken 5 (fallthrough)
branch  3 taken 0 (throw)
        5:  103-block  1
call    4 returned 5
    $$$$$:  103-block  2
call    5 never executed
    $$$$$:  103-block  3
        5:  104:        text += HTML_TABLE_CELL_END;
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  105:        text += HTML_TABLE_CELL_BEGIN;
        5:  105-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  106:        text += book.get_title();
        5:  106-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  106-block  1
call    3 returned 5
branch  4 taken 5 (fallthrough)
branch  5 taken 0 (throw)
        5:  106-block  2
call    6 returned 5
    $$$$$:  106-block  3
call    7 never executed
    $$$$$:  106-block  4
        5:  107:        text += HTML_TABLE_CELL_END;
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  108:        text += HTML_TABLE_CELL_BEGIN;
        5:  108-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  109:        text += book.get_author();
        5:  109-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  109-block  1
call    3 returned 5
branch  4 taken 5 (fallthrough)
branch  5 taken 0 (throw)
        5:  109-block  2
call    6 returned 5
    $$$$$:  109-block  3
call    7 never executed
    $$$$$:  109-block  4
        5:  110:        text += HTML_TABLE_CELL_END;
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  111:        text += HTML_TABLE_CELL_BEGIN;
        5:  111-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  112:        text += book.get_genre();
        5:  112-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  112-block  1
call    3 returned 5
branch  4 taken 5 (fallthrough)
branch  5 taken 0 (throw)
        5:  112-block  2
call    6 returned 5
    $$$$$:  112-block  3
call    7 never executed
    $$$$$:  112-block  4
        5:  113:        text += HTML_TABLE_CELL_END;
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  114:        text += HTML_TABLE_CELL_BEGIN;
        5:  114-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  115:        text += std::to_string(book.get_publication_year());
        5:  115-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  115-block  1
call    3 returned 5
call    4 returned 5
branch  5 taken 5 (fallthrough)
branch  6 taken 0 (throw)
        5:  115-block  2
call    7 returned 5
    $$$$$:  115-block  3
call    8 never executed
    $$$$$:  115-block  4
        5:  116:        text += HTML_TABLE_CELL_END;
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  117:        text += HTML_TABLE_ROW_END;
        5:  117-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        -:  118:
        5:  119:        out_in_file << text;
        5:  119-block  0
call    0 returned 5
branch  1 taken 5 (fallthrough)
branch  2 taken 0 (throw)
        5:  120:    }
        5:  120-block  0
call    0 returned 5
    $$$$$:  120-block  1
call    1 never executed
        -:  121:
        -:  122:    // close table
        1:  123:    out_in_file << "\n    </table>";
        1:  123-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        -:  124:
        -:  125:    // close html
        1:  126:    out_in_file << HTML_END;
        1:  126-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:  127:    out_in_file.close();
        1:  127-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        -:  128:
        -:  129:    //fisierul in : D:\INFO 2\SEM 2\OOP\lab6-7---oop\cmake-build-debug-coverage
        1:  130:}
        1:  130-block  0
call    0 returned 1
call    1 returned 1
call    2 returned 1
call    3 returned 1
call    4 returned 1
call    5 returned 1
call    6 returned 1
call    7 returned 1
call    8 returned 1
call    9 returned 1
call   10 returned 1
    $$$$$:  130-block  1
call   11 never executed
    $$$$$:  130-block  2
call   12 never executed
    $$$$$:  130-block  3
call   13 never executed
    $$$$$:  130-block  4
call   14 never executed
    $$$$$:  130-block  5
call   15 never executed
    $$$$$:  130-block  6
call   16 never executed
    $$$$$:  130-block  7
call   17 never executed
    $$$$$:  130-block  8
call   18 never executed
    $$$$$:  130-block  9
call   19 never executed
    $$$$$:  130-block 10
call   20 never executed
    $$$$$:  130-block 11
call   21 never executed
