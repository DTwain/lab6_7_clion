        -:    0:Source:D:/INFO 2/SEM 2/OOP/lab6-7---oop/repository/repo.cpp
        -:    0:Graph:D:\INFO 2\SEM 2\OOP\lab6-7---oop\cmake-build-debug-coverage\CMakeFiles\lab6_7_clion.dir\repository\repo.cpp.gcno
        -:    0:Data:D:\INFO 2\SEM 2\OOP\lab6-7---oop\cmake-build-debug-coverage\CMakeFiles\lab6_7_clion.dir\repository\repo.cpp.gcda
        -:    0:Runs:1
        -:    1://
        -:    2:// Created by obrej on 4/10/2024.
        -:    3://
        -:    4:
        -:    5:#include "../Headers/repo.h"
        -:    6:#include <sstream>
        -:    7:#include <cstring>
        -:    8:#include <vector>
        -:    9:#include <algorithm>
        -:   10:
        -:   11:using std::string;
        -:   12:using std::ostream;
        -:   13:using std::stringstream;
        -:   14:using std::to_string;
        -:   15:using std::vector;
        -:   16:
function _ZN4repo15incrementare_idEv called 73 returned 100% blocks executed 100%
       73:   17:void repo::incrementare_id(){
       73:   18:    this->id += 1;
       73:   19:}
        -:   20:/*
        -:   21: * Returneaza un id pentru cartea pe care dorim sa o adaugam
        -:   22: * Return type: int
        -:   23: */
function _ZNK4repo32get_id_for_next_book_to_be_addedEv called 32 returned 100% blocks executed 100%
       32:   24:const int& repo::get_id_for_next_book_to_be_added() const {
       32:   25:    return this->id;
       32:   25-block  0
        -:   26:}
        -:   27:
function _ZNK4repo25get_reference_from_vectorEv called 2 returned 100% blocks executed 100%
        2:   28:const vector<carte>& repo::get_reference_from_vector() const {
        2:   29:    return carte_vec;
        2:   29-block  0
        -:   30:}
        -:   31:
        -:   32:/*
        -:   33: * Adauga cartea in repo
        -:   34: * Arunca book_repo_exception daca mai exista o cartte cu acelasi Id
        -:   35: */
function _ZN4repo3addERK5carte called 74 returned 99% blocks executed 61%
       74:   36:void repo::add(const carte& obj_carte){
       74:   37:    if(carte_in_repo(obj_carte.get_book_id()))
       74:   37-block  0
call    0 returned 74
branch  1 taken 74 (fallthrough)
branch  2 taken 0 (throw)
       74:   37-block  1
call    3 returned 74
branch  4 taken 74 (fallthrough)
branch  5 taken 0 (throw)
       74:   37-block  2
branch  6 taken 1 (fallthrough)
branch  7 taken 73
    $$$$$:   37-block  3
call    8 never executed
        1:   38:        throw book_repo_exception("Cartea cu id - ul: " + to_string(obj_carte.get_book_id()) + "exista deja");
        1:   38-block  0
call    0 returned 1
call    1 returned 1
branch  2 taken 1 (fallthrough)
branch  3 taken 0 (throw)
        1:   38-block  1
call    4 returned 1
call    5 returned 1
branch  6 taken 1 (fallthrough)
branch  7 taken 0 (throw)
        1:   38-block  2
call    8 returned 1
branch  9 taken 1 (fallthrough)
branch 10 taken 0 (throw)
        1:   38-block  3
call   11 returned 1
branch 12 taken 1 (fallthrough)
branch 13 taken 0 (throw)
        1:   38-block  4
call   14 returned 1
call   15 returned 1
call   16 returned 1
call   17 returned 0
    $$$$$:   38-block  5
call   18 never executed
    $$$$$:   38-block  6
call   19 never executed
    $$$$$:   38-block  7
call   20 never executed
    $$$$$:   38-block  8
    $$$$$:   38-block  9
    $$$$$:   38-block 10
    $$$$$:   38-block 11
call   21 never executed
       73:   39:    this->carte_vec.push_back(obj_carte);
       73:   39-block  0
call    0 returned 73
       73:   40:    this->incrementare_id();
call    0 returned 73
       73:   41:}
        -:   42:
function _ZN4repo10add_pt_cosERK5carte called 14 returned 100% blocks executed 100%
       14:   43:void repo::add_pt_cos(const carte& obj_carte){
       14:   44:    this->carte_vec.push_back(obj_carte);
       14:   44-block  0
call    0 returned 14
       14:   45:}
        -:   46:/*
        -:   47: * Verifica daca cartea cu id ul dat apare in repo
        -:   48: * Return type:
        -:   49: *      true: carta apare in repo
        -:   50: *      false: nu apare in repo
        -:   51: */
function _ZNK4repo13carte_in_repoERKi called 83 returned 100% blocks executed 86%
       83:   52:bool repo::carte_in_repo(const int& id_to_find ) const {
        -:   53:    try {
       83:   54:        find_book_by_id(id_to_find);
       83:   54-block  0
call    0 returned 83
branch  1 taken 7 (fallthrough)
branch  2 taken 76 (throw)
        7:   55:        return true;
        7:   55-block  0
        -:   56:    }
       76:   57:    catch(book_repo_exception&){
       76:   57-block  0
branch  0 taken 0 (fallthrough)
branch  1 taken 76
       76:   57-block  1
call    2 returned 76
       76:   58:        return false;
       76:   59:    }
        -:   60:}
        -:   61:/*
        -:   62: *  Returneaza cartea cu id ul dat sau ridica o exceptie daca nu exista
        -:   63: *
        -:   64: */
function _ZNK4repo15find_book_by_idERKi called 97 returned 21% blocks executed 65%
       97:   65:const carte& repo::find_book_by_id(const int& id) const{
      435:   66:    for(const carte& book : this->carte_vec)
       97:   66-block  0
call    0 returned 97
call    1 returned 97
      358:   66-block  1
call    2 returned 358
      338:   66-block  2
call    3 returned 338
      435:   66-block  3
call    4 returned 435
branch  5 taken 358
branch  6 taken 77 (fallthrough)
      358:   67:        if(book.get_book_id() == id)
call    0 returned 358
branch  1 taken 358 (fallthrough)
branch  2 taken 0 (throw)
      358:   67-block  0
branch  3 taken 20 (fallthrough)
branch  4 taken 338
       20:   68:            return book;
       20:   68-block  0
       20:   68-block  1
       77:   69:    throw book_repo_exception("Book with id: " + to_string(id) + " doesn't exist");
       77:   69-block  0
call    0 returned 77
call    1 returned 77
call    2 returned 77
branch  3 taken 77 (fallthrough)
branch  4 taken 0 (throw)
       77:   69-block  1
call    5 returned 77
branch  6 taken 77 (fallthrough)
branch  7 taken 0 (throw)
       77:   69-block  2
call    8 returned 77
branch  9 taken 77 (fallthrough)
branch 10 taken 0 (throw)
       77:   69-block  3
call   11 returned 77
call   12 returned 77
call   13 returned 77
call   14 returned 0
    $$$$$:   69-block  4
call   15 never executed
    $$$$$:   69-block  5
call   16 never executed
    $$$$$:   69-block  6
call   17 never executed
    $$$$$:   69-block  7
    $$$$$:   69-block  8
    $$$$$:   69-block  9
    $$$$$:   69-block 10
call   18 never executed
        -:   70:}
        -:   71:/*
        -:   72: * Sterge cartea cu id ul dat sau ridica o exceptie daca nu gaseste cartea
        -:   73: *
        -:   74: */
function _ZN4repo11delete_bookERKi called 9 returned 67% blocks executed 59%
        9:   75:void repo::delete_book(const int &id) {
        9:   76:    if(!carte_in_repo(id))
        9:   76-block  0
call    0 returned 9
branch  1 taken 9 (fallthrough)
branch  2 taken 0 (throw)
        9:   76-block  1
branch  3 taken 3 (fallthrough)
branch  4 taken 6
        3:   77:        throw book_repo_exception("Cartea cu id-ul " + to_string(id) + " nu exista!");
        3:   77-block  0
call    0 returned 3
call    1 returned 3
call    2 returned 3
branch  3 taken 3 (fallthrough)
branch  4 taken 0 (throw)
        3:   77-block  1
call    5 returned 3
branch  6 taken 3 (fallthrough)
branch  7 taken 0 (throw)
        3:   77-block  2
call    8 returned 3
branch  9 taken 3 (fallthrough)
branch 10 taken 0 (throw)
        3:   77-block  3
call   11 returned 3
call   12 returned 3
call   13 returned 3
call   14 returned 3
    $$$$$:   77-block  4
call   15 never executed
    $$$$$:   77-block  5
call   16 never executed
    $$$$$:   77-block  6
call   17 never executed
    $$$$$:   77-block  7
    $$$$$:   77-block  8
    $$$$$:   77-block  9
    $$$$$:   77-block 10
call   18 never executed
        6:   78:    auto remove_begin = std::remove_if(carte_vec.begin(), carte_vec.end(),
call    0 returned 6
call    1 returned 6
branch  2 taken 6 (fallthrough)
branch  3 taken 0 (throw)
function _ZZN4repo11delete_bookERKiENKUlRK5carteE_clES4_ called 14 returned 100% blocks executed 100%
       20:   79:                                       [id](const carte& obj_carte) { return obj_carte.get_book_id() == id; });
        6:   79-block  0
call    0 returned 6
       14:   79-block  1
call    1 returned 14
        6:   80:    carte_vec.erase(remove_begin, carte_vec.end());
        6:   80-block  0
call    0 returned 6
call    1 returned 6
call    2 returned 6
call    3 returned 6
branch  4 taken 6 (fallthrough)
branch  5 taken 0 (throw)
    $$$$$:   80-block  1
    $$$$$:   80-block  2
    $$$$$:   80-block  3
        6:   81:}
        6:   81-block  0
        -:   82:/*
        -:   83: * Sterge toate cartile din repo
        -:   84: */
function _ZN4repo12goleste_repoEv called 2 returned 100% blocks executed 100%
        2:   85:void repo::goleste_repo() {
        2:   86:    carte_vec.clear();
        2:   86-block  0
call    0 returned 2
        2:   87:}
        -:   88:
        -:   89:/*
        -:   90: * Modifica cartea cu id ul egal cu cel al cartii care
        -:   91: *
        -:   92: */
function _ZN4repo11modify_bookERK5carte called 3 returned 33% blocks executed 73%
        3:   93:void repo::modify_book(const carte& obj_carte) {
        3:   94:    int book_id = obj_carte.get_book_id();
        3:   94-block  0
call    0 returned 3
        3:   95:    bool found = false;
        -:   96:
        8:   97:    for(carte& book: this->carte_vec)
call    0 returned 3
call    1 returned 3
        6:   97-block  0
call    2 returned 6
        5:   97-block  1
call    3 returned 5
        8:   97-block  2
call    4 returned 8
branch  5 taken 6
branch  6 taken 2 (fallthrough)
        6:   98:        if(book.get_book_id() == obj_carte.get_book_id()){
call    0 returned 6
branch  1 taken 6 (fallthrough)
branch  2 taken 0 (throw)
        6:   98-block  0
call    3 returned 6
branch  4 taken 6 (fallthrough)
branch  5 taken 0 (throw)
        6:   98-block  1
branch  6 taken 1 (fallthrough)
branch  7 taken 5
        1:   99:            book = obj_carte;
        1:   99-block  0
call    0 returned 1
branch  1 taken 1 (fallthrough)
branch  2 taken 0 (throw)
        1:  100:            found = true;
        1:  101:            break;
        1:  101-block  0
        -:  102:        }
        -:  103:
        3:  104:    if(!found) {
        3:  104-block  0
branch  0 taken 2 (fallthrough)
branch  1 taken 1
        2:  105:        throw book_repo_exception("Doesn't exist book with id: " + to_string(book_id));
        2:  105-block  0
call    0 returned 2
call    1 returned 2
call    2 returned 2
branch  3 taken 2 (fallthrough)
branch  4 taken 0 (throw)
        2:  105-block  1
call    5 returned 2
branch  6 taken 2 (fallthrough)
branch  7 taken 0 (throw)
        2:  105-block  2
call    8 returned 2
call    9 returned 2
call   10 returned 0
    $$$$$:  105-block  3
call   11 never executed
    $$$$$:  105-block  4
call   12 never executed
    $$$$$:  105-block  5
    $$$$$:  105-block  6
    $$$$$:  105-block  7
call   13 never executed
        -:  106:    }
        1:  107:}
        1:  107-block  0
        -:  108:
function _ZNK4repo7get_allEv called 31 returned 100% blocks executed 100%
       31:  109:const vector<carte>& repo::get_all() const noexcept{
       31:  110:    return carte_vec;
       31:  110-block  0
        -:  111:}
        -:  112:
function _ZlsRSoRK19book_repo_exception called 5 returned 100% blocks executed 100%
        5:  113:ostream& operator<<(ostream& out, const book_repo_exception& ex){
        5:  114:    out << ex.msg;
        5:  114-block  0
call    0 returned 5
        5:  115:    return out;
        -:  116:}
        -:  117:
        -:  118:// urmeaza cele trei functii de camparare a doua carti
        -:  119:
        -:  120:// comparare dupa titlu
function _ZN4repo13sort_by_titleERK5carteS2_ called 8 returned 100% blocks executed 71%
        8:  121:bool repo::sort_by_title(const carte &book1, const carte &book2) {
        8:  122:    return book1.get_title() < book2.get_title();
        8:  122-block  0
call    0 returned 8
call    1 returned 8
branch  2 taken 8 (fallthrough)
branch  3 taken 0 (throw)
        8:  122-block  1
call    4 returned 8
branch  5 taken 8 (fallthrough)
branch  6 taken 0 (throw)
        8:  122-block  2
call    7 returned 8
call    8 returned 8
call    9 returned 8
call   10 returned 8
        8:  122-block  3
    $$$$$:  122-block  4
    $$$$$:  122-block  5
call   11 never executed
    $$$$$:  122-block  6
        -:  123:}
        -:  124:
        -:  125:// comparare dupa autor
function _ZN4repo14sort_by_authorERK5carteS2_ called 4 returned 100% blocks executed 71%
        4:  126:bool repo::sort_by_author(const carte &book1, const carte &book2) {
        4:  127:    return book1.get_author() < book2.get_author();
        4:  127-block  0
call    0 returned 4
call    1 returned 4
branch  2 taken 4 (fallthrough)
branch  3 taken 0 (throw)
        4:  127-block  1
call    4 returned 4
branch  5 taken 4 (fallthrough)
branch  6 taken 0 (throw)
        4:  127-block  2
call    7 returned 4
call    8 returned 4
call    9 returned 4
call   10 returned 4
        4:  127-block  3
    $$$$$:  127-block  4
    $$$$$:  127-block  5
call   11 never executed
    $$$$$:  127-block  6
        -:  128:}
        -:  129:
        -:  130://comaparare dupa an si gen
function _ZN4repo32sort_by_publication_year_and_genERK5carteS2_ called 9 returned 100% blocks executed 82%
        9:  131:bool repo::sort_by_publication_year_and_gen(const carte &book1, const carte &book2) {
        9:  132:    if(book1.get_publication_year()< book2.get_publication_year())
        9:  132-block  0
call    0 returned 9
call    1 returned 9
branch  2 taken 2 (fallthrough)
branch  3 taken 7
        2:  133:        return true;
        2:  133-block  0
        7:  134:    else if(book1.get_publication_year() == book2.get_publication_year())
        7:  134-block  0
call    0 returned 7
call    1 returned 7
branch  2 taken 1 (fallthrough)
branch  3 taken 6
        1:  135:        return book1.get_genre() < book2.get_genre();
        1:  135-block  0
call    0 returned 1
call    1 returned 1
branch  2 taken 1 (fallthrough)
branch  3 taken 0 (throw)
        1:  135-block  1
call    4 returned 1
branch  5 taken 1 (fallthrough)
branch  6 taken 0 (throw)
        1:  135-block  2
call    7 returned 1
call    8 returned 1
call    9 returned 1
call   10 returned 1
    $$$$$:  135-block  3
    $$$$$:  135-block  4
call   11 never executed
    $$$$$:  135-block  5
        6:  136:    return false;
        6:  136-block  0
        -:  137:}
